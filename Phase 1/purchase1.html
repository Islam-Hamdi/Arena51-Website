<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Purchase Page</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="js/index.js" defer></script>
    <script src="js/home.js" defer></script>
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">
                <img src="images/logo.png" alt="Logo">

                <div class="title">
                    <h1><span class="arena">Arena</span> <span class="number">51</span></h1>
                </div>
            </div>
            <nav class="nav-bar">
                <ul>
                    <li><a href="Arena-51-Website.html">Home</a></li>
                    <li><a href="#categories">Categories</a></li>
                    <li><a href="contact-us.html">Contact Us</a></li>
                </ul>
            </nav>
            <div class="search">
                <i class="fas fa-search"></i> <input type="text" id="search-box" placeholder="Search for Games">
                <button type="button" id="search-button">Search</button>
            </div>
            <div class="account">
                <i class="fas fa-user"></i>
                <a href="#" data-toggle="modal" data-target="#modalLogin">Login / Sign Up</a>
                <!-- <button class="btnLogin-popup"> Login</button> -->
            </div>
            <div id="flash-container"></div>

        </div>
    </header>
    <h1>Game Details</h1>
    <!-- Display game details -->
    <div id="game-details">
        <h2>Game Title</h2>
        <p>Description: Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
        <p>Price: $50</p>
        <img src="game_image.jpg" alt="Game Image">
    </div>

    <!-- Quantity input -->
    <label for="quantity">Quantity:</label>
    <input type="number" id="quantity" min="1" value="1">

    <!-- Display user balance and enable/disable purchase button based on balance -->
    <p>Your balance: $100</p>
    <button id="purchase-btn" onclick="purchaseGame()">Purchase</button>

    <footer>
        <div class="footer-nav">
            <a href="#top"><i class="fas fa-arrow-up"></i> Back to Top</a>
            <div class="social-media">
                <!-- Social media icons with links -->
                <a href="#"><i class="fab fa-facebook"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <!-- Add more social media icons as needed -->
            </div>
            <div class="footer-links">
                <ul>
                    <li><a href="#">Internet Service Terms</a></li>
                    <li><a href="#">Arena 51 Terms & Conditions</a></li>
                    <li><a href="#">Cookie Policy</a></li>
                    <li><a href="#">Support</a></li>
                </ul>
            </div>
            <div class="languages-region">
                <div class="languages">
                    <ul>
                        <li><a href="#">En (US)</a></li>
                        <li><a href="#">Ar</a></li>
                    </ul>
                </div>
                <div class="region">
                    <select>
                        <option value="north-america">North America</option>
                        <option value="europe">Europe</option>
                        <option value="asia">Asia</option>
                        <option value="south-america">South America</option>
                        <option value="north-america">North America</option>                       
                        <option value="africa">Africa</option>
                    </select>
                </div>
            </div>
        </div>
    </footer>
    <script>
        // Function to increment quantity
        function incrementQuantity() {
            var quantityInput = document.getElementById('quantity');
            quantityInput.value = parseInt(quantityInput.value) + 1;
        }

        // Function to check balance and enable/disable purchase button
        function checkBalance() {
            var userBalance = 100; // Get user balance from server/database
            var gamePrice = 50; // Get game price from server/database
            var quantity = parseInt(document.getElementById('quantity').value);
            var purchaseBtn = document.getElementById('purchase-btn');

            if (userBalance >= gamePrice * quantity) {
                purchaseBtn.disabled = false; // Enable purchase button
            } else {
                purchaseBtn.disabled = true; // Disable purchase button
            }
        }

    // Function to handle game purchase
    function purchaseGame() {
        var quantity = parseInt(document.getElementById('quantity').value);
        var gamePrice = 50; // Get game price from server/database
        var totalAmount = gamePrice * quantity;

        // Send request to server to process purchase
        // For now, let's assume the purchase is successful
        // After a successful purchase, redirect the user to payment.html
        window.location.href = "payment.html";
    }

    // Call checkBalance function when page loads and when quantity changes
    window.onload = checkBalance;
    document.getElementById('quantity').addEventListener('change', checkBalance);

    </script>
</body>
</html>