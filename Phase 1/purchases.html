<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Purchase History</title>
    <style>
        /* Define your CSS styles here */
        .table {
            width: 100%;
            border-collapse: collapse;
        }
        .table th, .table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        .table th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">
                <img src="images/logo.png" alt="Logo">
                <div class="title">
                    <h1><span class="arena">Arena</span> <span class="number">51</span></h1>
                </div>
            </div>
            <nav class="nav-bar">
                <ul>
                    <li><a href="Arena-51-Website.html">Home</a></li>
                    <li><a href="#categories">Categories</a></li>
                    <li><a href="contact-us.html">Contact Us</a></li>
                </ul>
            </nav>
            <div class="search">
                <i class="fas fa-search"></i> <input type="text" id="search-box" placeholder="Search for Games">
                <button type="button" id="search-button">Search</button>
            </div>
            <div class="account">
                <div class="authenticated">
                    <span class="account-username"></span>
                    <button class="btn btn-danger" id="logout">Logout</button>
                </div>
                <div class="not-authenticated">
                    <i class="fas fa-user"></i>
                    <a href="#" data-toggle="modal" data-target="#modalLogin">Login / Sign Up</a>
                </div>
            </div>
            <div id="flash-container"></div>
        </div>
    </header>
    <main>
    <h1>Purchase History</h1>
    <table class="table">
        <thead>
            <tr>
                <th>Phone</th>
                <th>Address</th>
                <th>Zip Code</th>
                <th>Item Name</th>
                <th>Price</th>
                <th>Quantity</th>
            </tr>
        </thead>
        <tbody>
            <!-- Purchase history rows will be dynamically added here -->
        </tbody>
    </table>
    </main> 
    <footer>
        <div class="footer-nav">
            <a href="#top"><i class="fas fa-arrow-up"></i> Back to Top</a>
            <div class="social-media">
                <a href="#"><i class="fab fa-facebook"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
            </div>
            <div class="footer-links">
                <ul>
                    <li><a href="#">Internet Service Terms</a></li>
                    <li><a href="#">Arena 51 Terms & Conditions</a></li>
                    <li><a href="#">Cookie Policy</a></li>
                    <li><a href="#">Support</a></li>
                </ul>
            </div>
            <div class="languages-region">
                <div class="languages">
                    <ul>
                        <li><a href="#">En (US)</a></li>
                        <li><a href="#">Ar</a></li>
                    </ul>
                </div>
                <div class="region">
                    <select>
                        <option value="north-america">North America</option>
                        <option value="europe">Europe</option>
                        <option value="asia">Asia</option>
                        <option value="south-america">South America</option>
                        <option value="africa">Africa</option>
                    </select>
                </div>
            </div>
        </div>
    </footer>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const table = document.querySelector(".table");
            const purchases_history = JSON.parse(localStorage.getItem("purchases_history")) || [];
            const tbody = table.querySelector('tbody');

            if(purchases_history.length === 0) {
                tbody.innerHTML = "<tr><td colspan='6'>There are no purchase history</td></tr>";
            } else {
                purchases_history.forEach((purchase) => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${purchase.phone}</td>
                        <td>${purchase.address}</td>
                        <td>${purchase.zip}</td>
                        <td>${purchase.itemName}</td>
                        <td>${purchase.price} $</td>
                        <td>${purchase.quantity}</td>
                    `;
                    tbody.appendChild(row);
                });
            }
        });
    </script>
</body>
</html>